<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Animated Fish and Underwater Scene</title>
    <style>
        body {
            margin: 0;
            padding: 0;
        }

        canvas {
            display: block;
            margin: auto;
            border: 1px solid black;
        }
    </style>
</head>

<body>
    <canvas id="myCanvas" width="800" height="400"></canvas>

    <script>
        var centerX = 200; // fish 
        var centerY = 200; // Adjusted the initial Y coordinate
        var bodyLength = 118;
        var bodyHeight = 74;
        var bodyColor = "rgb(162, 0, 255)";
        var fcolor = "rgb(0, 68, 255)";

        var tailWidth = bodyLength / 4;
        var tailHeight = bodyHeight / 2;

        var pebbleX = 56; // pebble 
        var pebbleY = 50;
        var pebbleW = 70;
        var pebbleH = 50;

        var bubbleX = 50; // bubble 
        var bubbleY = 398; // Adjusted the initial Y coordinate
        var bubbleW = 50;
        var bubbleH = 45;

        var seaX = 50;
        var seaY = 50;
        var seaW = 50;
        var seaH = 50;

        var speed = 2; // Adjusted fish speed

        var canvas = document.getElementById("myCanvas");
        var ctx = canvas.getContext("2d");

        function draw() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);

            // Draw sea bed
            ctx.fillStyle = "rgb(81, 173, 196)";
            ctx.fillRect(0, 200, canvas.width, canvas.height); // Adjusted sea bed position

            // Fish function
            function fish(centerX, centerY, bodyLength, bodyHeight, fcolor, tailWidth, tailHeight) {
                ctx.strokeStyle = "rgb(0, 0, 0)";
                ctx.lineWidth = 0.2;
                ctx.fillStyle = fcolor;
                // body
                ctx.beginPath();
                ctx.ellipse(centerX, centerY, bodyLength / 2, bodyHeight / 2, 0, 0, Math.PI * 2);
                ctx.fill();
                ctx.stroke();
                // tail
                ctx.beginPath();
                ctx.moveTo(centerX - bodyLength / 2, centerY);
                ctx.lineTo(centerX - bodyLength / 2 - tailWidth, centerY - tailHeight);
                ctx.lineTo(centerX - bodyLength / 2 - tailWidth, centerY + tailHeight);
                ctx.closePath();
                ctx.fill();
                ctx.stroke();
                // eye
                ctx.fillStyle = "rgb(33, 33, 33)";
                ctx.beginPath();
                ctx.ellipse(centerX + bodyLength / 4, centerY, bodyHeight / 10, bodyHeight / 10, 0, 0, Math.PI * 2);
                ctx.fill();
            }

            // Bubble function
            function bubble(bubbleX, bubbleY, bubbleW, bubbleH) {
                ctx.fillStyle = "rgb(143, 208, 255)";
                ctx.beginPath();
                ctx.ellipse(bubbleX, bubbleY, (bubbleW + 5) / 2, (bubbleH + 10) / 2, 0, 0, Math.PI * 2);
                ctx.fill();

                ctx.fillStyle = "rgb(107, 169, 214)";
                ctx.beginPath();
                ctx.ellipse(bubbleX, bubbleY, bubbleW / 2, (bubbleH - 5) / 2, 0, 0, Math.PI * 2);
                ctx.fill();

                ctx.fillStyle = "rgb(184, 225, 255)";
                ctx.beginPath();
                ctx.ellipse(bubbleX, bubbleY, bubbleW / 2, bubbleH / 2, 0, 0, Math.PI * 2);
                ctx.fill();

                ctx.fillStyle = "rgb(255, 255, 255)";
                ctx.beginPath();
                ctx.ellipse(bubbleX + 7, bubbleY - 4, (bubbleW - 30) / 2, (bubbleH - 25) / 2, 0, 0, Math.PI * 2);
                ctx.fill();

                ctx.beginPath();
                ctx.ellipse(bubbleX - 7, bubbleY + 13, (bubbleW - 44) / 2, (bubbleH - 43) / 2, 0, 0, Math.PI * 2);
                ctx.fill();
            }

            // Draw bubbles
            bubble(332, bubbleY, 50, 50);
            bubble(364, bubbleY, 35, 33);
            bubble(321, bubbleY, 7, 7);
            bubble(297, bubbleY, 7, 7);
            bubble(342, bubbleY, 7, 7);

            // Draw fish
            fish(centerX - 50, 200, bodyLength, 55, "rgb(204, 84, 84)", tailWidth * 1.2, tailHeight);
            fish(centerX - 299, 333, bodyLength, 50, "rgb(0, 66, 171)", tailWidth * 0.5, tailHeight);
            fish(centerX + 360, 193, bodyLength, 50, "rgb(0, 140, 114)", tailWidth * 1.4, tailHeight);

            // Update fish position
            if (centerX > canvas.width + 100 || centerX < -100) {
                speed *= -1;
            }
            centerX += speed;
            bubbleY -= 1; // Adjusted bubble movement speed

            requestAnimationFrame(draw);
        }

        draw();
    </script>
</body>

</html>
